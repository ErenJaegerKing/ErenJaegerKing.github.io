import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,f as e,o as i}from"./app-DOLNxxCd.js";const l={};function p(t,s){return i(),a("div",null,s[0]||(s[0]=[e(`<h3 id="nfs共享存储" tabindex="-1"><a class="header-anchor" href="#nfs共享存储"><span>NFS共享存储</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>	NFS存储服务端</span></span>
<span class="line"><span>		软件包安装</span></span>
<span class="line"><span>			nfs-utils</span></span>
<span class="line"><span>				网络文件系统服务</span></span>
<span class="line"><span>			rpcbind</span></span>
<span class="line"><span>				远程过程调用</span></span>
<span class="line"><span>			yum install rpcbin nfs-utils -y</span></span>
<span class="line"><span>		启动服务</span></span>
<span class="line"><span>			systemctl start nfs</span></span>
<span class="line"><span>			systemctl start rpcbind</span></span>
<span class="line"><span>		创建共享目录</span></span>
<span class="line"><span>			mkdir /opt/wwwroot</span></span>
<span class="line"><span>				lvm逻辑卷形式创建容量</span></span>
<span class="line"><span>					物理卷</span></span>
<span class="line"><span>					卷组</span></span>
<span class="line"><span>					逻辑卷</span></span>
<span class="line"><span>					格式化</span></span>
<span class="line"><span>					挂载</span></span>
<span class="line"><span>		配置共享存储</span></span>
<span class="line"><span>			vim /etc/exports</span></span>
<span class="line"><span>			共享目录     访问范围（权限）</span></span>
<span class="line"><span>			/opt/wwwroot    192.168.100.0/24(rw,sync)</span></span>
<span class="line"><span>			发布共享</span></span>
<span class="line"><span>				exportfs -rv</span></span>
<span class="line"><span>		查看共享</span></span>
<span class="line"><span>			本地</span></span>
<span class="line"><span>				showmount -e</span></span>
<span class="line"><span>			客户端</span></span>
<span class="line"><span>	NFS客户端</span></span>
<span class="line"><span>		软件安装</span></span>
<span class="line"><span>			yum install rpcbind nfs-utils -y</span></span>
<span class="line"><span>		开启rpc</span></span>
<span class="line"><span>			systemctl start rpcbind</span></span>
<span class="line"><span>		查看nfs共享存储</span></span>
<span class="line"><span>			showmount -e 192.168.100.128</span></span>
<span class="line"><span>		安装网站服务</span></span>
<span class="line"><span>			yum install httpd -y</span></span>
<span class="line"><span>		开启网站服务</span></span>
<span class="line"><span>			systemctl start httpd</span></span>
<span class="line"><span>		远程nfs挂载</span></span>
<span class="line"><span>			mount.nfs 192.168.100.128:/opt/wwwroot /var/www/html/</span></span>
<span class="line"><span>	rsync</span></span>
<span class="line"><span>		同步源（服务端）</span></span>
<span class="line"><span>			vim /etc/rsyncd.conf</span></span>
<span class="line"><span>			uid = nobodygid = nobodyuse chroot = yesaddress = 192.168.100.128port = 873pid file = /var/run/rsyncd.pidlog file = /var/log/rsyncd.loghosts allow = 192.168.100.0/24</span></span>
<span class="line"><span>			[wwwroot]path = /var/www/htmlcomment = www.xykj.comread only = yesdont compress   = *.gz *.tgz *.zip *.z *.Z *.rpm *.deb *.bz2auth users = backupersecrets file = /etc/rsyncd_users.db</span></span>
<span class="line"><span>			创建账号文件</span></span>
<span class="line"><span>				vim /etc/rsyncd_users.db</span></span>
<span class="line"><span>				backuper:abc123</span></span>
<span class="line"><span>					用户名:密码</span></span>
<span class="line"><span>				chmod 600 /etc/rsyncd_users.db</span></span>
<span class="line"><span>			启动服务</span></span>
<span class="line"><span>				rsync --daemon</span></span>
<span class="line"><span>				netstat -ntap | grep rsync</span></span>
<span class="line"><span>		发起端（客户端）</span></span>
<span class="line"><span>			交互模式：</span></span>
<span class="line"><span>				rsync -avz rsync://backuper@192.168.100.128/wwwroot /var/www/html/</span></span>
<span class="line"><span>			免密模式：</span></span>
<span class="line"><span>				vim /etc/server.pass</span></span>
<span class="line"><span>				abc</span></span>
<span class="line"><span>				rsync -az --delete --password-file=/etc/server.pass rsync://backuper@192.168.100.128/wwwroot /var/www/html/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="gfs分布式文件系统" tabindex="-1"><a class="header-anchor" href="#gfs分布式文件系统"><span>GFS分布式文件系统</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>GFS分布式文件系统</span></span>
<span class="line"><span>	节点命名</span></span>
<span class="line"><span>		hostnamectl set-hostname node1</span></span>
<span class="line"><span>		hostnamectl set-hostname node2</span></span>
<span class="line"><span>		hostnamectl set-hostname node3</span></span>
<span class="line"><span>		hostnamectl set-hostname node4</span></span>
<span class="line"><span>		防火墙关闭</span></span>
<span class="line"><span>			systemctl stop firewalld.service</span></span>
<span class="line"><span>		关闭增强安全功能</span></span>
<span class="line"><span>			setenforce 0</span></span>
<span class="line"><span>	主机名解析</span></span>
<span class="line"><span>		vim /etc/hosts</span></span>
<span class="line"><span>		192.168.100.128 node1</span></span>
<span class="line"><span>192.168.100.129 node2</span></span>
<span class="line"><span>192.168.100.136 node3</span></span>
<span class="line"><span>192.168.100.138 node4</span></span>
<span class="line"><span>		同步到其他3台节点中，保证配置统一</span></span>
<span class="line"><span>			scp /etc/hosts root@192.168.100.129:/etc/hosts</span></span>
<span class="line"><span>			scp /etc/hosts root@192.168.100.136:/etc/hosts</span></span>
<span class="line"><span>			scp /etc/hosts root@192.168.100.138:/etc/hosts</span></span>
<span class="line"><span>	软件包解压</span></span>
<span class="line"><span>		unzip gfsrepo.zip</span></span>
<span class="line"><span>		软件环境安装</span></span>
<span class="line"><span>			自建yum源</span></span>
<span class="line"><span>				vim /etc/yum.repos.d/GLFS.repo</span></span>
<span class="line"><span>				[GLFS]</span></span>
<span class="line"><span>name=glfs</span></span>
<span class="line"><span>baseurl=file:///opt/gfsrepo</span></span>
<span class="line"><span>gpgcheck=0</span></span>
<span class="line"><span>enabled=1</span></span>
<span class="line"><span>			优化yum源</span></span>
<span class="line"><span>				cd /etc/yum.repos.d/</span></span>
<span class="line"><span>				rm -rf CentOS*</span></span>
<span class="line"><span>			清除yum缓存</span></span>
<span class="line"><span>				yum clean all</span></span>
<span class="line"><span>			重新加载</span></span>
<span class="line"><span>				yum list</span></span>
<span class="line"><span>			yum -y install glusterfs glusterfs-server glusterfs-fuse glusterfs-rdma</span></span>
<span class="line"><span>	服务启动</span></span>
<span class="line"><span>		systemctl start glusterd.service</span></span>
<span class="line"><span>systemctl enable glusterd.service   </span></span>
<span class="line"><span>systemctl status glusterd.service</span></span>
<span class="line"><span>	建立存储信任池</span></span>
<span class="line"><span>		时间同步</span></span>
<span class="line"><span>			ntpdate ntp1.aliyun.com</span></span>
<span class="line"><span>		节点同步</span></span>
<span class="line"><span>			gluster peer probe node2</span></span>
<span class="line"><span>gluster peer probe node3</span></span>
<span class="line"><span>gluster peer probe node4</span></span>
<span class="line"><span>		查看信任池</span></span>
<span class="line"><span>			gluster peer status</span></span>
<span class="line"><span>	卷类型</span></span>
<span class="line"><span>		分布式卷</span></span>
<span class="line"><span>			没有对文件进行分块处理</span></span>
<span class="line"><span>			扩展文件属性保存HASH值，扩展能力很强</span></span>
<span class="line"><span>			支持文件类型：EXT3,EXT4,ZFS,XFS等</span></span>
<span class="line"><span>			缺点：数据非常容易丢失，不具备数据冗余</span></span>
<span class="line"><span>			gluster volume create dis-vol node1:/data/sdb1 node2:/data/sdb1 force  创建</span></span>
<span class="line"><span>			gluster volume info dis-vol  查看状态</span></span>
<span class="line"><span>			gluster volume start dis-vol  启动</span></span>
<span class="line"><span>		条带卷</span></span>
<span class="line"><span>			将文件分成N块（N个条带节点），轮询的存储在每个brick server节点</span></span>
<span class="line"><span>			适合大文件存储，读写速度快</span></span>
<span class="line"><span>			缺点：不具备数据冗余</span></span>
<span class="line"><span>			创建：gluster volume create stripe-vol stripe 2 node1:/data/sdc1 node2:/data/sdc1 force</span></span>
<span class="line"><span>			启动：gluster volume start stripe-vol</span></span>
<span class="line"><span>			查看：gluster volume info stripe-vol</span></span>
<span class="line"><span>		复制卷</span></span>
<span class="line"><span>			同一个文件保存一份或者多分副本，卷中所有的服务器均保存一个完整副本</span></span>
<span class="line"><span>			至少两个服务器组成，成本高，但是数据安全，有数据冗余，可以实现多个副本</span></span>
<span class="line"><span>			创建：gluster volume create rep-vol replica 2 node3:/data/sdb1 node4:/data/sdb1 force</span></span>
<span class="line"><span>			启动：gluster volume start rep-vol</span></span>
<span class="line"><span>			查看：gluster volume info rep-vol</span></span>
<span class="line"><span>		分布式条带卷</span></span>
<span class="line"><span>			主要用于大文件访问处理</span></span>
<span class="line"><span>			至少需要4台服务器</span></span>
<span class="line"><span>			创建：gluster volume create dis-stripe stripe 2 node1:/data/sdd1 node2:/data/sdd1 node3:/data/sdd1 node4:/data/sdd1 force</span></span>
<span class="line"><span>		分布式复制卷</span></span>
<span class="line"><span>			具备分布式和数据冗余功能</span></span>
<span class="line"><span>			至少4台服务器节点</span></span>
<span class="line"><span>			创建：gluster volume create dis-rep replica 2 node1:/data/sde1 node2:/data/sde1 node3:/data/sde1 node4:/data/sde1 force</span></span>
<span class="line"><span>		查看卷列表</span></span>
<span class="line"><span>			gluster volume list</span></span>
<span class="line"><span>	客户端</span></span>
<span class="line"><span>		软件包安装</span></span>
<span class="line"><span>			yum -y install glusterfs glusterfs-fuse</span></span>
<span class="line"><span>		修改hosts文件</span></span>
<span class="line"><span>			192.168.100.128 node1</span></span>
<span class="line"><span>192.168.100.129 node2</span></span>
<span class="line"><span>192.168.100.136 node3</span></span>
<span class="line"><span>192.168.100.138 node4</span></span>
<span class="line"><span>		挂载</span></span>
<span class="line"><span>			mount.glusterfs node1:dis-vol /text/dis</span></span>
<span class="line"><span>			mount.glusterfs node1:stripe-vol /text/strip</span></span>
<span class="line"><span>			mount.glusterfs node1:rep-vol /text/rep</span></span>
<span class="line"><span>			mount.glusterfs node1:dis-stripe /text/dis_stripe</span></span>
<span class="line"><span>			mount.glusterfs node1:dis-rep /text/dis_rep</span></span>
<span class="line"><span>		测试</span></span>
<span class="line"><span>			dd if=/dev/zero of=/demo1.log bs=1M count=40</span></span>
<span class="line"><span>dd if=/dev/zero of=/demo2.log bs=1M count=40</span></span>
<span class="line"><span>dd if=/dev/zero of=/demo3.log bs=1M count=40</span></span>
<span class="line"><span>dd if=/dev/zero of=/demo4.log bs=1M count=40</span></span>
<span class="line"><span>dd if=/dev/zero of=/demo5.log bs=1M count=40</span></span>
<span class="line"><span>			复制到各个卷中</span></span>
<span class="line"><span>				cp /demo* /text/dis</span></span>
<span class="line"><span>cp /demo* /text/strip</span></span>
<span class="line"><span>cp /demo* /text/rep/</span></span>
<span class="line"><span>cp /demo* /text/dis_stripe</span></span>
<span class="line"><span>cp /demo* /text/dis_rep</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4)]))}const r=n(l,[["render",p],["__file","共享存储.html.vue"]]),v=JSON.parse('{"path":"/devops/%E9%83%A8%E7%BD%B2%E3%80%81%E9%85%8D%E7%BD%AE/%E5%85%B1%E4%BA%AB%E5%AD%98%E5%82%A8.html","title":"共享存储部署","lang":"zh-CN","frontmatter":{"title":"共享存储部署","description":"NFS共享存储 GFS分布式文件系统","icon":"","date":"2024-09-21T00:00:00.000Z","category":["运维"],"tag":["共享存储"],"head":[["meta",{"property":"og:url","content":"https://ErenJaegerKing.github.io/devops/%E9%83%A8%E7%BD%B2%E3%80%81%E9%85%8D%E7%BD%AE/%E5%85%B1%E4%BA%AB%E5%AD%98%E5%82%A8.html"}],["meta",{"property":"og:site_name","content":"ErenJaeger"}],["meta",{"property":"og:title","content":"共享存储部署"}],["meta",{"property":"og:description","content":"NFS共享存储 GFS分布式文件系统"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-09-21T06:26:03.000Z"}],["meta",{"property":"article:author","content":"ErenJaegerKing"}],["meta",{"property":"article:tag","content":"共享存储"}],["meta",{"property":"article:published_time","content":"2024-09-21T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-09-21T06:26:03.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"共享存储部署\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-09-21T00:00:00.000Z\\",\\"dateModified\\":\\"2024-09-21T06:26:03.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ErenJaegerKing\\",\\"url\\":\\"https://ErenJaegerKing.github.io\\",\\"email\\":\\"1252505184@qq.com\\"}]}"]]},"headers":[{"level":3,"title":"NFS共享存储","slug":"nfs共享存储","link":"#nfs共享存储","children":[]},{"level":3,"title":"GFS分布式文件系统","slug":"gfs分布式文件系统","link":"#gfs分布式文件系统","children":[]}],"git":{"createdTime":1726899963000,"updatedTime":1726899963000,"contributors":[{"name":"LiYaoYu","email":"1252505184@qq.com","commits":1}]},"readingTime":{"minutes":3.29,"words":988},"filePathRelative":"devops/部署、配置/共享存储.md","localizedDate":"2024年9月21日","excerpt":"<h3>NFS共享存储</h3>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>\\tNFS存储服务端</span></span>\\n<span class=\\"line\\"><span>\\t\\t软件包安装</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tnfs-utils</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t网络文件系统服务</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\trpcbind</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t远程过程调用</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tyum install rpcbin nfs-utils -y</span></span>\\n<span class=\\"line\\"><span>\\t\\t启动服务</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tsystemctl start nfs</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tsystemctl start rpcbind</span></span>\\n<span class=\\"line\\"><span>\\t\\t创建共享目录</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tmkdir /opt/wwwroot</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\tlvm逻辑卷形式创建容量</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\t物理卷</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\t卷组</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\t逻辑卷</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\t格式化</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\t挂载</span></span>\\n<span class=\\"line\\"><span>\\t\\t配置共享存储</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tvim /etc/exports</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t共享目录     访问范围（权限）</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t/opt/wwwroot    192.168.100.0/24(rw,sync)</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t发布共享</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\texportfs -rv</span></span>\\n<span class=\\"line\\"><span>\\t\\t查看共享</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t本地</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\tshowmount -e</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t客户端</span></span>\\n<span class=\\"line\\"><span>\\tNFS客户端</span></span>\\n<span class=\\"line\\"><span>\\t\\t软件安装</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tyum install rpcbind nfs-utils -y</span></span>\\n<span class=\\"line\\"><span>\\t\\t开启rpc</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tsystemctl start rpcbind</span></span>\\n<span class=\\"line\\"><span>\\t\\t查看nfs共享存储</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tshowmount -e 192.168.100.128</span></span>\\n<span class=\\"line\\"><span>\\t\\t安装网站服务</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tyum install httpd -y</span></span>\\n<span class=\\"line\\"><span>\\t\\t开启网站服务</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tsystemctl start httpd</span></span>\\n<span class=\\"line\\"><span>\\t\\t远程nfs挂载</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tmount.nfs 192.168.100.128:/opt/wwwroot /var/www/html/</span></span>\\n<span class=\\"line\\"><span>\\trsync</span></span>\\n<span class=\\"line\\"><span>\\t\\t同步源（服务端）</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tvim /etc/rsyncd.conf</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tuid = nobodygid = nobodyuse chroot = yesaddress = 192.168.100.128port = 873pid file = /var/run/rsyncd.pidlog file = /var/log/rsyncd.loghosts allow = 192.168.100.0/24</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t[wwwroot]path = /var/www/htmlcomment = www.xykj.comread only = yesdont compress   = *.gz *.tgz *.zip *.z *.Z *.rpm *.deb *.bz2auth users = backupersecrets file = /etc/rsyncd_users.db</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t创建账号文件</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\tvim /etc/rsyncd_users.db</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\tbackuper:abc123</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\t用户名:密码</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\tchmod 600 /etc/rsyncd_users.db</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t启动服务</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\trsync --daemon</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\tnetstat -ntap | grep rsync</span></span>\\n<span class=\\"line\\"><span>\\t\\t发起端（客户端）</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t交互模式：</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\trsync -avz rsync://backuper@192.168.100.128/wwwroot /var/www/html/</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t免密模式：</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\tvim /etc/server.pass</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\tabc</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\trsync -az --delete --password-file=/etc/server.pass rsync://backuper@192.168.100.128/wwwroot /var/www/html/</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{r as comp,v as data};
