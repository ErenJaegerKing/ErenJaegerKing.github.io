import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,a,o as n}from"./app-DFC2yMVb.js";const t={};function l(r,i){return n(),e("div",null,i[0]||(i[0]=[a(`<div class="hint-container info"><p class="hint-container-title">相关信息</p><p>看过的Git教程和规范</p></div><hr><p><a href="https://ruanyifeng.com/blog/2016/01/commit_message_change_log.html" target="_blank" rel="noopener noreferrer">Commit message 和 Change log 编写指南 - 阮一峰的网络日志</a></p><p><a href="https://mp.weixin.qq.com/s/iJuAWqBVX_Dxk4G2krRKEA" target="_blank" rel="noopener noreferrer">小傅哥的Git</a></p><h3 id="一、分支命名" tabindex="-1"><a class="header-anchor" href="#一、分支命名"><span><strong>一、分支命名</strong></span></a></h3><p>不同公司中对Git的使用分支命名规范也略有差异，不过整体都会分为；<code>上线</code>、<code>预发</code>、<code>开发</code>、<code>测试</code>，这样几个分支。如图是一种比较简单使用的拉取分支方式。</p><ul><li>master/main 作为主分支，不可直接修改代码代码，只能从分支合并到主分支进行进行提交。同时，master 分支的合并需要进行审批，审批后才能合并。</li><li>开发前，先从 master 分支，拉一个开发分支。<code>2024/10/11/xfg-xxx</code> 使用带有斜线的分支命名会自动创建文件夹，对于多人开发的项目，可以直接归档。</li><li>后开发，也就是研发已经完成了本地的验证。进行测试时，可以把研发的开发分支合并到 test 分支，提交、部署、测试。遇到测试bug，需要回到可发分支修改代码，之后合并到 test 分支部署验证。</li><li>pre/release 预发分支，用于测试完成后，把研发的开发分支合并到预发分支进行预发上线，上线后测试人员进行验证。最终完成验证后，把开发分支合并到 master 分支，并需要由架构师对合并代码审批通过。最后进行上线开量验证。</li><li>如果是修复bug的，可以添加一个 <code>fix-用户名缩写-具体功能</code></li></ul><h3 id="二、提交规范" tabindex="-1"><a class="header-anchor" href="#二、提交规范"><span><strong>二、提交规范</strong></span></a></h3><p>提交规范：<code>type:【需求名】desc #id</code> 如：<code>feat:【抽奖算法】O1、Ologn 时间复杂度算法实现 #需求id（github pr/行云等会有自动关联）</code> <em>参考Commit message 规范</em></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">阮一峰</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">feat：新功能（feature）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">fix：修补bug</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">docs：文档（documentation）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">style： 格式（不影响代码运行的变动）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">refactor：重构（即不是新增功能，也不是修改bug的代码变动）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">test：增加测试</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">chore：构建过程或辅助工具的变动</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"># 主要type</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">feat</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">     增加新功能</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">fix</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      修复bug</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"># 特殊type</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">docs</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">     只改动了文档相关的内容</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">style</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    不影响代码含义的改动，例如去掉空格、改变缩进、增删分号</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">build</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    构造工具的或者外部依赖的改动，例如webpack，npm</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">refactor</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> 代码重构时使用</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">revert</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">   执行git revert打印的message</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"># 暂不使用type</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">test</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">     添加测试或者修改现有测试</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">perf</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">     提高性能的改动</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">ci</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">       与CI（持续集成服务）有关的改动</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">chore</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    不修改src或者test的其余修改，例如构建过程或辅助工具的变动</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三、合并分支" tabindex="-1"><a class="header-anchor" href="#三、合并分支"><span><strong>三、合并分支</strong></span></a></h3><ol><li>选择，你要从哪个分支合并到 test 分支。右键选择 Merge into test</li><li>如果你合并到test分支的代码，有其他人也在同一行做了改变或者格式化了代码，就会弹出一个合并冲突。这个时候你需要点 Merge 进行合并。</li><li>在点击 Merge 后，你会看到具体冲突的代码是什么，你可以有选择的从左右合并到中，最后点击 Apply。这个时候要注意不要把让别人的代码合并丢喽。</li><li>合并完的代码，不要直接 push，你要先本地 install 看是否可以打包。以及如果可以运行的话，可以本地先跑一下。最后 push 提交合并代码即可。</li></ol><h3 id="四、回滚代码" tabindex="-1"><a class="header-anchor" href="#四、回滚代码"><span><strong>四、回滚代码</strong></span></a></h3><p>如果出现了合并代码冲突后，丢失了代码，那么这个时候一般要进行回滚操作，重新合并。</p><p>虽然 Git 提供了回滚代码的功能，但一定要谨慎使用。怎么谨慎？第一个谨慎就是 push 的代码一定确保可以构建和运行，否则不要 push！第二个谨慎是要回滚代码，需要和团队中对应的伙伴打招呼，避免影响别人测试或者上线。</p><ol><li>先选择要在哪个分支的哪次提交上进行回滚。这里选择的是 test 分支上的提交进行回滚。</li><li>这里选择 Hard 回滚。因为我们所有的都是合并到 test 分支，所以 test 分支丢失也没问题。可以重新合并。但要和同组伙伴提前说明。</li><li>回滚后，你会看到代码只剩下从回滚往下的提交内容了。</li><li>回滚后，你不能直接 push 提交了，这个之后会报错；<code>fast-forward</code> 因为此时本地分支落后于远程分支。</li><li>所以要通过 <code>git push origin HEAD --force</code> 进行强制提交。或者你可以把 test 的远程分支删掉，之后在提交。</li></ol>`,16)]))}const d=s(t,[["render",l],["__file","git.html.vue"]]),c=JSON.parse('{"path":"/insights/demandDesign/git.html","title":"Git","lang":"zh-CN","frontmatter":{"title":"Git","description":"相关信息 看过的Git教程和规范 Commit message 和 Change log 编写指南 - 阮一峰的网络日志 小傅哥的Git 一、分支命名 不同公司中对Git的使用分支命名规范也略有差异，不过整体都会分为；上线、预发、开发、测试，这样几个分支。如图是一种比较简单使用的拉取分支方式。 master/main 作为主分支，不可直接修改代码代码，...","icon":"","date":"2024-11-13T00:00:00.000Z","category":["Tool"],"tag":["Git"],"order":3,"head":[["meta",{"property":"og:url","content":"https://ErenJaegerKing.github.io/insights/demandDesign/git.html"}],["meta",{"property":"og:site_name","content":"ErenJaeger"}],["meta",{"property":"og:title","content":"Git"}],["meta",{"property":"og:description","content":"相关信息 看过的Git教程和规范 Commit message 和 Change log 编写指南 - 阮一峰的网络日志 小傅哥的Git 一、分支命名 不同公司中对Git的使用分支命名规范也略有差异，不过整体都会分为；上线、预发、开发、测试，这样几个分支。如图是一种比较简单使用的拉取分支方式。 master/main 作为主分支，不可直接修改代码代码，..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-13T04:51:06.000Z"}],["meta",{"property":"article:author","content":"ErenJaegerKing"}],["meta",{"property":"article:tag","content":"Git"}],["meta",{"property":"article:published_time","content":"2024-11-13T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-13T04:51:06.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Git\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-11-13T00:00:00.000Z\\",\\"dateModified\\":\\"2024-11-13T04:51:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ErenJaegerKing\\",\\"url\\":\\"https://ErenJaegerKing.github.io\\",\\"email\\":\\"erenjaegerking@qq.com\\"}]}"]]},"headers":[{"level":3,"title":"一、分支命名","slug":"一、分支命名","link":"#一、分支命名","children":[]},{"level":3,"title":"二、提交规范","slug":"二、提交规范","link":"#二、提交规范","children":[]},{"level":3,"title":"三、合并分支","slug":"三、合并分支","link":"#三、合并分支","children":[]},{"level":3,"title":"四、回滚代码","slug":"四、回滚代码","link":"#四、回滚代码","children":[]}],"git":{"createdTime":1731465319000,"updatedTime":1731473466000,"contributors":[{"name":"LiYaoYu","email":"ErenJaegerKing@qq.com","commits":2}]},"readingTime":{"minutes":3.99,"words":1196},"filePathRelative":"insights/demandDesign/git.md","localizedDate":"2024年11月13日","excerpt":"<div class=\\"hint-container info\\">\\n<p class=\\"hint-container-title\\">相关信息</p>\\n<p>看过的Git教程和规范</p>\\n</div>\\n<hr>\\n<p><a href=\\"https://ruanyifeng.com/blog/2016/01/commit_message_change_log.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Commit message 和 Change log 编写指南 - 阮一峰的网络日志</a></p>\\n<p><a href=\\"https://mp.weixin.qq.com/s/iJuAWqBVX_Dxk4G2krRKEA\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">小傅哥的Git</a></p>","autoDesc":true}');export{d as comp,c as data};
