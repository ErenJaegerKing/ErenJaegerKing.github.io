---
icon: ""
description: ""
title: "工厂方法模式"
date: 2024-11-14
category:
  - 设计模式
tag: 
  - 创建型模式
  - 工厂方法模式
order: 3
---

---

:::info
设计模式-创建型模式-工厂方法模式
:::

---

### 动机

针对简单工厂模式的缺点，使用工厂方法模式就可以完美的解决，完全遵循开闭原则。

### 定义

**工厂方法模式**是一种创建型设计模式， 其在父类中提供一个创建对象的方法， 允许子类决定实例化对象的类型。

### 结构

工厂方法模式的主要角色：

- **抽象工厂**（Abstract Factory）：提供了创建产品的接口，调用者通过它访问具体工厂的工厂方法来创建产品。
- **具体工厂**（ConcreteFactory）：主要是实现抽象工厂中的抽象方法，完成具体产品的创建。
- **抽象产品**（Product）：定义了产品的规范，描述了产品的主要特性和功能。
- **具体产品**（ConcreteProduct）：实现了抽象产品角色所定义的接口，由具体工厂来创建，它同具体工厂之间一一对应。

### 案例


要增加产品类时也要相应地增加工厂类，不需要修改工厂类的代码了，这样就解决了简单工厂模式的缺点。

工厂方法模式是简单工厂模式的进一步抽象。由于使用了多态性，工厂方法模式保持了简单工厂模式的优点，而且克服了它的缺点。

### 优缺点

**优点：**

- **减少耦合**
    
    你可以避免创建者和具体产品之间的紧密耦合。
    
- ***单一职责原则*。**
    
    你可以将产品创建代码放在程序的单一位置， 从而使得代码更容易维护。
    
- ***开闭原则*。**
    
    无需更改现有客户端代码， 你就可以在程序中引入新的产品类型。
    

**缺点：**

- **引入更多的子类，代码会复杂**
    
    应用工厂方法模式需要引入许多新的子类， 代码可能会因此变得更复杂。 最好的情况是将该模式引入创建者类的现有层次结构中。